<!DOCTYPE html>
<html>
    <head>
        <title>Web Muse</title>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <style>
            body{
                height: 100%;
                margin: 0;
            }
            #canvas {
                width: 100%;
                height: 100%;
            }
        </style>
        <script src="jquery-2.1.4.min.js"></script>
        <script>
            var mousePressed = false;
            
            function resizeCanvas()
            {
                var canvas = document.getElementById('canvas');
                canvas.width = window.innerWidth;
                canvas.height = window.innerHeight;
                
                console.log("Canvas resized to " + window.innerWidth + ", " + window.innerHeight);
            }
            function onResize()
            {
                resizeCanvas();
            }
            function onMouseDown(pos)
            {
                console.log("mouse down at " + pos.x + ", " + pos.y);
                mousePressed = true;
            }
            function onMouseMove(pos)
            {
                if(mousePressed)
                    console.log("mouse moved to " + pos.x + ", " + pos.y);                
            }
            function onMouseUp()
            {
                mousePressed = false;
            }
            function onMouseLeave()
            {
                mousePressed = false;
            }
            
            function mouseEventPos(e, target)
            {
                var offset = $(target).offset();
                var x = e.clientX - offset.left;
                var y = e.clientY - offset.top;
                return {x: x, y: y};
            }
        </script>
    </head>
    <body>
        <canvas id="canvas"></canvas>
        
        <script>
            $(document).ready(function(){
                resizeCanvas();
                
                window.addEventListener("resize", onResize);
                $("#canvas").mousedown(function(e){
                    onMouseDown(mouseEventPos(e, this));
                });
                $("#canvas").mousemove(function(e){
                    onMouseMove(mouseEventPos(e, this));
                });
                $("#canvas").mouseup(function(){
                    onMouseUp();
                });
                $("#canvas").mouseleave(function(){
                    onMouseLeave();
                });
            });
        </script>
    </body>
</html>
